schema {
  query: Queries
  subscription: Subscription
}

type Queries {
}

type Subscription {
  serum(account: String!,market: String!): SerumCall
}


type SerumCall {
  instruction: SerumInstruction
}


union SerumInstruction = SerumInitializeMarket | SerumNewOrder | SerumMatchOrder | SerumConsumeEvents | SerumCancelOrder | SerumSettleFunds | SerumCancelOrderByClientId

type SerumInitializeMarketAccounts {
  market: String!
  splCoinToken: String!
  splPriceToken: String!
  coinMint: String!
  priceMint: String!
}
type SerumInitializeMarket {
  baseLotSize: Uint64!
  quoteLotSize: Uint64!
  feeRateBps: Uint64!
  vaultSignerNonce: Uint64!
  quoteDustThreshold: Uint64!

  accounts : SerumInitializeMarketAccounts!
}

type SerumNewOrderAccounts {
  market: String!
  openOrders: String!
  requestQueue: String!
  payer: String!
  owner: String!
  coinVault: String!
  pcVault: String!
  splTokenProgram: String!
  rent: String!
  srmDiscount: String
}

type SerumNewOrder {
  side:        SideType!
  limitPrice:  Uint64!
  maxQuantity: Uint64!
  orderType:   OrderType!
  clientID:    Uint64!


  accounts: SerumNewOrderAccounts!
}

type SerumMatchOrderAccounts {
  market: String!
  requestQueue: String!
  eventQueue: String!
  bids: String!
  asks: String!
  coinFeeReceivable: String!
  pcFeeReceivable: String!
}
type SerumMatchOrder {
  limit: Uint64!

  accounts : SerumMatchOrderAccounts!
}

type SerumConsumeEventsAccounts {
  openOrders: [String!]!
  market: String!
  eventQueue: String!
  coinFeeReceivable: String!
  pcFeeReceivable: String!
}
type SerumConsumeEvents {
  limit: Uint64!

  accounts: SerumConsumeEventsAccounts!
}

type SerumCancelOrderAccounts {
  market: String!
  requestQueue: String!
  owner: String!
}
type SerumCancelOrder {
  side: SideType!
  orderId: String!
  openOrders: String!
  openOrderSlot: Uint64!
  accounts: SerumCancelOrderAccounts!
}

type SerumSettleFundsAccounts{
  market: String!
  openOrders: String!
  owner: String!
  coinVault: String!
  pcVault: String!
  coinWallet: String!
  pcWallet: String!
  signer: String!
  splTokenProgram: String!
  referrerPCWallet: String
}
type SerumSettleFunds {
  accounts : SerumSettleFundsAccounts!
}

type SerumCancelOrderByClientIdAccounts {
  market: String!
  openOrders: String!
  requestQueue: String!
  owner: String!
}
type SerumCancelOrderByClientId {
  clientID: Uint64!
  accounts: SerumCancelOrderByClientIdAccounts!
}

enum SideType {
  ASK
  BID
  UNKNOWN
}

enum OrderType {
  LIMIT
  IMMEDIATE_OR_CANCEL
  POST_ONLY
  UNKNOWN
}

scalar Uint64
scalar JSON
